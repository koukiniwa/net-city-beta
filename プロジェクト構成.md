
# NET CITY β - プロジェクト構成

リアルタイムチャットアプリ「NET CITY β」の開発プロジェクトです。

---

## 📂 フォルダー構成

```
netcityB/
│
├── 📱 アプリ本体（Webアプリのソース）
│   ├── index.html          エントリー画面（入場画面）
│   ├── city.html           チャット画面（メイン）
│   ├── privacy.html        プライバシーポリシー
│   ├── icon.svg            アプリアイコン
│   ├── manifest.json       PWA設定（ホーム画面追加機能）
│   ├── service-worker.js   オフライン対応・キャッシュ管理
│   │
│   ├── css/                スタイルシート（デザイン・見た目）
│   │   ├── index.css           エントリー画面のデザイン
│   │   └── city.css            チャット画面のデザイン
│   │
│   ├── js/                 JavaScript（プログラムの動作）
│   │   ├── index.js            エントリー画面の処理
│   │   └── city.js             チャット機能・Firebase接続
│   │
│   └── icons/              アイコン画像（各サイズ）
│       ├── icon-48.webp
│       ├── icon-72.webp
│       ├── icon-96.webp
│       ├── icon-128.webp
│       ├── icon-192.webp
│       ├── icon-256.webp
│       └── icon-512.webp
│
├── 🔧 開発・管理ツール
│   ├── tools/              管理ツール（Firebase操作用HTML）
│   │   ├── cache-clear.html            キャッシュクリアツール
│   │   └── create-permanent-rooms.html 固定ルーム作成ツール
│   │
│   ├── scripts/            ビルドスクリプト
│   │   ├── build-www.sh                www/ディレクトリ生成用
│   │   ├── BUILD_APK.bat               Androidアプリビルド用
│   │   ├── BUILD_APK_SIMPLE.bat        簡易ビルド用
│   │   └── CHECK_APK.bat               APKチェック用
│   │
│   └── ドキュメント/        ドキュメント（開発手順書・仕様書）
│       ├── development/                開発ガイド
│       │   ├── ANDROID_BUILD_GUIDE.md      Androidビルド手順
│       │   ├── APP_BUILD_QUICKSTART.md     クイックスタート
│       │   └── CAPACITOR_BUILD.md          Capacitorビルド手順
│       └── specifications/             仕様書
│           └── NET_CITY_仕様書.html        アプリ仕様書
│
├── 📦 ライブラリ・依存関係
│   ├── node_modules/       npmパッケージ（Capacitor、Firebaseなど）
│   │                       ※削除しても npm install で復元可能
│   │
│   ├── resources/          Capacitor用リソース
│   │   ├── icon.png            アイコン生成用の元画像
│   │   └── splash.png          スプラッシュ画面用の元画像
│   │
│   ├── package.json        npmパッケージ設定・ビルドコマンド
│   └── package-lock.json   依存関係のバージョン固定
│
├── 📱 モバイルアプリプロジェクト
│   ├── android/            Androidアプリプロジェクト（Android Studio用）
│   └── ios/                iOSアプリプロジェクト（Xcode用）
│
├── ⚙️ 設定ファイル
│   ├── capacitor.config.ts     Capacitor設定（モバイルアプリ化）
│   ├── assets.config.json      アイコン・スプラッシュ自動生成設定
│   ├── firebase.json           Firebaseホスティング設定
│   ├── database.rules.json     Firebaseデータベースのセキュリティルール
│   ├── .firebaserc             Firebaseプロジェクト名
│   └── .gitignore              Git除外設定
│
└── 🔒 システムフォルダー（触らない）
    ├── .git/               Git管理フォルダー（履歴・GitHub接続）
    └── .idea/              IDE設定フォルダー（IntelliJ/WebStorm）
```

---

## 🚀 よく使うコマンド

### Webアプリのデプロイ
```bash
# Firebaseにデプロイ（ルート直下のファイルが公開される）
firebase deploy
```

### モバイルアプリのビルド
```bash
# www/を生成してCapacitorに同期
npm run sync

# Android Studioを開く
npm run open:android

# Xcodeを開く（Macのみ）
npm run open:ios
```

### アイコン・スプラッシュ画像の再生成
```bash
npm run assets
```

---

## 📝 重要なポイント

### ✅ 編集するファイル
- `index.html`, `city.html`, `privacy.html` - アプリ画面
- `css/` - デザイン変更
- `js/` - 機能追加・修正

### ❌ 触ってはいけないもの
- `.git/` - 削除すると履歴が消える
- `node_modules/` - 削除すると動かない（`npm install`で復元可能）
- `.idea/` - IDE設定がリセットされる

### 🔄 自動生成されるもの
- `www/` - モバイルアプリビルド時に自動生成（削除OK）

---

## 📚 フォルダーの役割早見表

| フォルダー | 役割 | 削除 | 説明 |
|-----------|------|------|------|
| **css/** | デザイン | ❌ | アプリの見た目 |
| **js/** | プログラム | ❌ | アプリの動作 |
| **icons/** | アイコン | ❌ | アイコン画像 |
| **tools/** | 管理ツール | ⚠️ | あると便利 |
| **scripts/** | ビルド | ⚠️ | 手動でもできる |
| **ドキュメント/** | 文書 | ⚠️ | 忘れやすくなる |
| **node_modules/** | ライブラリ | ⚠️ | 復元可能 |
| **resources/** | 元画像 | ❌ | アイコン再生成に必要 |
| **android/** | Android | ⚠️ | 作らないなら削除OK |
| **ios/** | iOS | ⚠️ | 作らないなら削除OK |
| **.git/** | Git管理 | ❌ | 絶対削除しない |
| **.idea/** | IDE設定 | ✅ | 削除OK |

---

## 📞 困った時は

1. **アプリが動かない** → `npm install` を実行
2. **モバイルアプリがビルドできない** → `npm run sync` を実行
3. **Gitがおかしい** → `.git/` を触っていないか確認
4. **変更が反映されない** → ブラウザのキャッシュをクリア

---

最終更新: 2025年11月7日
